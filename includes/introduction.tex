\section{Introduction}

In recent years many algorithms for solving string constraints have
been developed and implemented as part of SMT solvers such as CVC4
\cite{cvc4} and Z3 (e.g., Z3str2 \cite{z3str2} and Z3str3
\cite{z3str3}). To validate and benchmark these solvers, their
developers have relied on hand-crafted input
suites~\cite{cvc4-tests,z3str3-tests,z3str2-tests} or real-world
examples from a limited class of industrial
applications~\cite{kaluza,kausler}. These test suites have helped
developers identify implementation defects and develop more
sophisticated solving heuristics. Although extremely helpful, these
suites are of limited value since they do not test the vast majority
of interesting behaviors in solvers. There is an acute need for more
robst, inexpensive, and automatic way of generating benchmarks to test
the correctness and performance of SMT solvers, that can augment
hand-crafted as well as tests generated from industrial applications.

%VG: add citation to SAT fuzzer
Random and mutation fuzzing are widely used test all kinds of software
including SAT solvers. Inspired by their utility, we introduce a
fuzzer for string solvers, \fuzzer{}, and describe its value as an
exploratory validation tool. We demonstrate the efficacy of \fuzzer{}
by presenting defects and limitations it enabled us to identify in
leading string solvers, which otherwise would have been difficult to
detect. To the best of our knowledge, \fuzzer{} is the first such tool
aimed at automatic generation of string constraints. \fuzzer{} can be
used to mutate or transform existing benchmarks, as well
randomly-generate structured instances that can be scaled with respect
to a variety of parameters, e.g., length of string constants, depth of
concats, balanced or unbalanced concats, overlapping word equations,
systems of word equations with arithmetic over length, nested regular
expressions, rich combination of regular expressions and string
constraints, and many more.

\noindent{\textbf{Contributions:}} 

\begin{enumerate}
\item \textbf{The \fuzzer{} tool}: We describe in
  Section~\ref{sec:fuzzer} a modular fuzzer which can transform and
  randomly generate extremal \smtfull{} string and regular expression
  (regex) problems~\footnote{We assume basic
    familiarity with string solvers and their input
    language.}. Extremal or scaling inputs (e.g., long string
  constants, deep concatenations) are particularly useful in
  identifying asymptotic behaviors in solvers. We briefly document its
  components and modular architecture. We provide example use cases to
  demonstrate its utility as an exploratory tool for validating
  solvers.
  
\item \textbf{A repository of \smtfull{} problems}: We present a
  repository of \smtfull{} string and regex problem suites we
  generated using \fuzzer{} in Section~\ref{sec:problems}. We
  demonstrate the usefulness of these suites by revealing specific
  defects they helped uncover and fix in \us{}.

\item \textbf{Experimental Results}: We compare \theSolvers{} on the
  \fuzzer{} suites and selectively present the experimental result on
  \theSuites{} in Section~\ref{sec:data}. We highlighted these suites
  because they uniquely made some solvers perform poorly, but not
  others.

\item \textbf{Analysis}: We analyze our experimental results in
  Section~\ref{sec:analysis} by inspecting the execution traces of the
  solvers on the given problems. We pinpoint algorithmic limitations
  in \us{} that cause poor performance, and analyze proposed and
  implemented enhancements that address the issues which \fuzzer{}
  helped us to identify.
\end{enumerate}
